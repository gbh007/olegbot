# OlegBot

Бот для Telegram который может выдавать рандомные цитаты из добавленных.

## Переменные окружения

| Переменная           | Описание                             | Пример                                                            |
| -------------------- | ------------------------------------ | ----------------------------------------------------------------- |
| `TOKEN`              | Телеграм токен для бота              |                                                                   |
| `BOT_NAME`           | Имя бота на которое он откликается   | `Олег`                                                            |
| `BOT_TAG`            | Тег бота (тоже откликается)          | `@some_oleg_bot`                                                  |
| `REPO`               | Строка подключения для PostgreSQL    | `postgres://oleg:olegpass@localhost:5432/olegbot?sslmode=disable` |
| `ADDR`               | Веб адрес для метрик и CMS           | `:8080`                                                           |
| `TEXTS_QUOTE_ADDED`  | Сообщение бота если цитата добавлена | `✅`                                                              |
| `TEXTS_QUOTE_EXISTS` | Сообщение бота если цитата уже есть  | `❌`                                                              |
| `CMS_LOGIN`          | Логин для CMS                        | `user`                                                            |
| `CMS_PASSWORD`       | Пароль для CMS                       | `password`                                                        |
| `DEBUG`              | Режим отладки                        | `true`                                                            |

## Метрики

Бот отдает стандартные метрики для Prometheus, дашборд для графаны `grafana-dashboard.json`

## CMS

У бота есть система управления контентом, запускается если указан веб адрес.  
Если логин и пароль не пустые, то применяется базовая аутентификация по ним, кроме ендпоинта метрик.
